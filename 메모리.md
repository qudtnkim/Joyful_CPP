[[C++_프로그래밍 기본]]
#개발 #컴퓨터언어 #CPP
![[Pasted image 20220816121226.png]]

변수 선언 시 어느 영역에서 메모리를 관리 하는지는 매우 중요하다.

함수 안의 body 영역에서 변수를 할당 받는 다면 이는 stack 영역에서 메모리를 호출하고 해당하는 함수가 호출 종료되면 ({} 를 벗어나면) 메모리 역시 해제(pop) 된다.

함수 호출 시에만 stack 메모리를 사용하여, 변수가 사라지게 하지 않고 프로그램 단위에서 사용하는 방법으로는 전역 변수, [[extern]] 변수, static 변수로 선언하는 방법이 있다.

이 때는 Data 영역에서 메모리를 할당 받으며, 해당하는 메모리는 프로그램이 종료될 때까지 메모리에 저장되어있다.


코드메모리 > 프로그램 코드를 저장
정적 메모리 > 전역 객체와 정적 객체 저장
힙 메모리 > 런타임 중에 생성되는 객체 저장
스택 메모리 > 지역 변수와 함수의 매개변수 저장


- ==코드 메모리==
프로그램 코드를 보유하는 영역임.
다른 객체를 선언할 수 없는 메모리 영역이며
해제: 프로그램이 종료될 때 해제됨

- ==정적 메모리==
전역 객체 (global object) - 어떤 함수에도 속하지 않는 함수 외부에 있는 객체
정적 객체 (static object) 
를 보유하는 영역임
해제: 프로그램이 종료되면 객체 모두를 정리하고 메모리에서 해제 됨.
- ==스택 메모리==
함수의 지역 변수와 매개변수를 보유함.
스택은 last-in-first-out 컨테이너로 마지막 넣은 것을 가장 먼저 꺼내는 자료 구조임.
==그러나 지역 변수에서 배열을 스택 메모리에서 저장하려면, 컴파일 시점에 이미 배열의 크기가 정해져 있어야 하기에 가변 배열을 만들 때에는 **힙 메모리**를 사용함==

- ==힙 메모리==
컴파일 시점에 객체의 크기를 모르기 때문에, 런타임 시점에 메모리에 객체를 만듦.
#dynamic_memory #동적메모리 라고도 함.
p497 ~ 505 참고